@model Desafio.S2IT.Web.Models.MigrateModel
@{
    ViewData["Title"] = "Migrate";
    Layout = "_Layout";
}

@section CssImports {
    <link href="~/css/page-center.css" type="text/css" rel="stylesheet">
}

<div id="login-page" class="row">
    <div class="col s12 z-depth-4 card-panel">
        <form class="login-form" asp-action="Index" asp-controller="Migrate">
            <div class="row">
                <div class="input-field col s12 center">
                    <img src="../../images/logo/login-logo.png" alt="" class="circle responsive-img valign profile-image-login">
                    <p class="center login-form-text">Configuração do Banco</p>
                </div>
            </div>
            <div class="row margin">
                <div class="input-field col s12">
                    <i class="material-icons prefix pt-5">desktop_windows</i>
                    <input asp-for="DataSource" type="text">
                    <label asp-for="DataSource" class="center-align">Servidor SQL Server</label>
                </div>
            </div>
            <div class="row margin">
                <div class="input-field col s12">
                    <i class="material-icons prefix pt-5">person_outline</i>
                    <input asp-for="UserID" type="text">
                    <label asp-for="UserID" class="center-align">Usuário do banco (preferencia sa)</label>
                </div>
            </div>
            <div class="row margin">
                <div class="input-field col s12">
                    <i class="material-icons prefix pt-5">lock_outline</i>
                    <input asp-for="Password" type="password">
                    <label asp-for="Password" class="center-align">Senha</label>
                </div>
            </div>
            <div class="row margin">
                <div class="input-field col s12">
                    <i class="material-icons prefix pt-5">cloud</i>
                    <input asp-for="InitialCatalog" type="text">
                    <label asp-for="InitialCatalog" class="center-align">Nome do banco de dados (Opcional)</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <button id="Login" class="btn waves-effect waves-light col s12">Configurar</button>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts{
    <script>
        $("#Login").click(function (event) {
            if ($("#DataSource").val() == "") {
                Materialize.toast('Informe o servidor!', 4000);
                event.preventDefault();
                return;
            }

            if ($("#Senha").val() == "") {
                Materialize.toast('Informe o usuario!', 4000);
                event.preventDefault();
                return;
            }
        })
    </script>
}
@if (!String.IsNullOrWhiteSpace(Model.Mensagem))
{
    <script>
        Materialize.toast('@Model.Mensagem', 4000);
    </script>
}

